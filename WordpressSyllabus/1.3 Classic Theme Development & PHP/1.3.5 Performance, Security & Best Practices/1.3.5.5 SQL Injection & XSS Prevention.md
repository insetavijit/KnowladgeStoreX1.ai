**Overview**  
SQL Injection and Cross-Site Scripting (XSS) are two of the most prevalent and dangerous web vulnerabilities. In the context of WordPress theme development, SQL Injection occurs when untrusted data is directly inserted into database queries, potentially allowing attackers to read, modify, or delete sensitive information. XSS occurs when malicious scripts are injected into the frontend, leading to session theft or site defacement. Defeating these attacks requires a disciplined approach to data handling: using the `$wpdb->prepare()` method for all custom database interactions and applying context-aware escaping to every piece of data output to the browser. Mastering these defenses is non-negotiable for producing professional, secure WordPress products.

| **Section**                              | **Interview Learning Goals**                                          | **Key Technical Details to Study**                                                              |
| ---------------------------------------- | --------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------- |
| **[[SQL Injection Definition]]**         | Explain the mechanic of an SQL Injection attack.                      | Manipulating query logic via input; escaping out of strings; unauthorized DB access.            |
| **[[The $wpdb Object]]**                 | Describe the WordPress database abstraction layer.                    | Primary tool for custom SQL; built-in protection mechanisms; session management.               |
| **[[wpdb::prepare()]]**                   | Identify the single most important function for SQL safety.           | Sprinter-style placeholders (`%s`, `%d`, `%f`); automatic escaping and quoting.                |
| **[[Placeholder Types]]**                | Explain `%s`, `%d`, and `%f` in prepared statements.                  | String, Decimal (Integer), Float; why using the wrong type can cause security or logic bugs.    |
| **[[Raw $wpdb->query() Risks]]**        | Discuss why direct execution without preparation is dangerous.        | Lack of escaping; vulnerability to quote breakout; bypassing security filters.                  |
| **[[Preparing LIKE Queries]]**           | Describe the correct way to prepare search queries.                   | Handling wildcards (`%`); `esc_sql()` vs `prepare()` for partial matches.                      |
| **[[XSS: Stored vs Reflected]]**         | Differentiate between the two main types of XSS.                      | **Stored**: Saved in DB (e.g., bio); **Reflected**: URL parameter or direct echo (e.g., search).|
| **[[The XSS Payload]]**                  | Identify what an attacker can do with successful XSS.                 | Cookie theft (hijacking); redirecting users; defacing pages; logging keystrokes.               |
| **[[esc_html() vs esc_attr()]]**         | Explain choosing the right defense based on output context.           | Tag content vs attribute value; prevents "breaking out" of HTML syntax.                        |
| **[[Securing Search Output]]**           | Describe escaping the "You searched for..." display.                  | Using `get_search_query()`; escaping with `esc_html()`; protecting the most common XSS vector. |
| **[[wp_kses_post() usage]]**             | Explain allowing "safe" HTML in user-submitted content.               | High-level filter for post content; allowing links/formatting but stripping scripts/iframes.   |
| **[[JavaScript-based XSS]]**             | Describe protecting data passed into `<script>` tags.                 | Using `esc_js()` or `wp_json_encode()`; preventing script breakout in dynamic theme logic.     |
| **[[Trusting the Source]]**              | Explain the danger of trusting "admin" or "trusted" inputs.           | Why even internal data must be escaped; protecting against compromised accounts.               |
| **[[Third-Party Data Safety]]**          | Describe handling data from remote APIs.                              | Treating external JSON/XML as untrusted; sanitizing and escaping after retrieval.              |
| **[[The role of wp_kses()]]**            | Explain fine-grained control over allowed HTML.                       | Custom attribute arrays; balancing functionality with security needs.                           |
| **[[Database Prefix Safety]]**           | Describe using `$wpdb->prefix` in custom queries.                      | Preventing table name exposure; supporting custom prefixes for security and multi-tenancy.     |
| **[[Prepared Query Lifecycle]]**         | Explain what happens during `prepare()`.                              | Cleaning, quoting, and assembling the final SQL string safely before execution.                |
| **[[Security Headers]]**                 | Identify browser-level defenses (CSP, X-XSS-Protection).              | Content Security Policy basics; adding additional layers beyond PHP-level escaping.             |
| **[[Vulnerability Scanning Tools]]**     | Explain identifying SQLi/XSS in your theme code.                      | PHPCS with WP Security rules; static analysis; manual audit patterns.                          |
| **[[Best Practices]]**                   | Summarize the professional standard for attack prevention.            | Prepare every query; escape every output; no exceptions; regular security audits.              |

If you want, I can continue with **1.3.5.6 Theme Performance Optimization** to cover speed.
