# 1.4.1 JSON Output

| **Section** | **Focus** | **Key Utilities / Concepts** | **One-Line Recall** |
| :--- | :--- | :--- | :--- |
| **[[1.4.1.1 JSON Mode (API)]]** | Forced Structure | `response_format={"type": "json_object"}`, API flags | Modern APIs specifically support "JSON Mode" to guarantee valid JSON output without complex prompting. |
| **[[1.4.1.2 Defining Keys & Types]]** | Schema definition | Key naming, value types (string/int/bool), explicit mapping | Telling the model exactly which keys to use and what data types they expect prevents parsing errors. |
| **[[1.4.1.3 Nested Structures]]** | Hierarchy | Objects within objects, depth handling, recursive relationships | LLMs can model complex relationships, like a "User" object containing an "Address" object. |
| **[[1.4.1.4 Arrays & Lists]]** | Collections | `[]`, list generation, iterating over items | Generating lists of items (e.g., "top 5 reasons") as a JSON array makes them programmatically iterable. |
| **[[1.4.1.5 Handling Nulls & Booleans]]** | Logical states | `null`, `true`, `false`, presence checks | Explicitly instructing how to handle missing data ("use null, not 'N/A'") ensures database compatibility. |
| **[[1.4.1.6 Escaping Strings]]** | Syntax safety | Escape characters, newline handling, quote management | Strings containing quotes or newlines must be properly escaped to avoid breaking the JSON syntax. |
| **[[1.4.1.7 JSON Lines (Streamable)]]** | Streaming | NDJSON, one object per line, incremental parsing | For large datasets, generating one JSON object per line allows for processing data as it arrives. |
| **[[1.4.1.8 Invalid JSON Recovery]]** | Error handling | "Repair" prompts, regex cleaning, dirty JSON parsing | When the model generates broken JSON, simple repair strategies (or library tools) can often salvage it. |
| **[[1.4.1.9 Sparse vs Dense JSON]]** | Bandwidth | Minified keys, removing optional nulls, token efficiency | Shortening keys (e.g., `t` vs `timestamp`) saves tokens but reduces readability; use wisely. |
| **[[1.4.1.10 Commenting in JSON]]** | Metadata | `_comment` fields, non-standard comments, descriptive keys | Since standard JSON doesn't support comments, using metadata fields helps explain data to human reviewers. |

This table represents a **complete guide to JSON Output**, the lingua franca of LLM-to-Software integration.
