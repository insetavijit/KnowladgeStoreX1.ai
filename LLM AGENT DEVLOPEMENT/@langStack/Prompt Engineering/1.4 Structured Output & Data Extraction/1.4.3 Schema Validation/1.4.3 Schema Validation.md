# 1.4.3 Schema Validation

| **Section** | **Focus** | **Key Utilities / Concepts** | **One-Line Recall** |
| :--- | :--- | :--- | :--- |
| **[[1.4.3.1 JSON Schema Definition]]** | The Standard | Draft 7, type definitions, required fields, validation keywords | Feeding the model a JSON schema is the most reliable way to explain exactly what output structure you need. |
| **[[1.4.3.2 Pydantic Integration]]** | Python ecosystem | Data models, automatic parsing, type coercion | Using Pydantic models to define schemas allows you to validate LLM output directly into Python objects. |
| **[[1.4.3.3 Type Constraints]]** | Data integrity | String, Integer, Enum, Array, Pattern | Enforcing types (e.g., "Must be an integer") prevents the model from returning "five" instead of 5. |
| **[[1.4.3.4 Required vs Optional Fields]]** | Completeness | `required: [...]`, defaults, optional merging | Explicitly marking fields as required forces the model to generate them or fail. |
| **[[1.4.3.5 Enum Restrictions]]** | Choice limitation | Categorical data, valid options list, select inputs | Enums restrict the output to a specific set of allowed strings, essential for classification tasks. |
| **[[1.4.3.6 Regex Pattern Validation]]** | String format | `pattern` keyword, email regex, date formats | Using regex patterns in the schema ensures strings like emails or dates follow correct formats. |
| **[[1.4.3.7 Error Handling Pipelines]]** | Recovery | Validation error callback, re-prompting with error | When validation fails, feeding the error message back to the LLM ("You missed field X") usually fixes it. |
| **[[1.4.3.8 Retry Logic]]** | Persistence | Max retries, backoff, fallback strategies | Automated retry loops with validation feedback are the backbone of reliable agentic systems. |
| **[[1.4.3.9 Schema Evolution]]** | Versioning | Backwards compatibility, handling new fields | As your application grows, schemas change; maintaining versioned prompts ensures stability. |
| **[[1.4.3.10 Zod/Typescript Schemas]]** | JS Ecosystem | Type inference, runtime validation, TS integration | For JS/TS developers, Zod schemas provide the same benefits as Pydantic for defining LLM interfaces. |

This table represents a **complete guide to Schema Validation**, the gatekeeper that turns chaotic text into reliable data.
