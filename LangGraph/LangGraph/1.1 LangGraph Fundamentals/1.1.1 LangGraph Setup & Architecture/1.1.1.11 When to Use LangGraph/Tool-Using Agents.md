# Tool-Using Agents

## 1. Core Definition
**Tool-Using Agents** are systems designed to interact with external environments (APIs, databases, filesystems) to extend the LLM's capabilities. The core pattern is the **ReAct** (Reason + Act) loop: the LLM decides to call a tool, the system executes the tool, and the output is fed back to the LLM to decide the next step. This is the primary use case for which LangGraph is highly optimized.

## 2. Key Technical Details
*   **Cyclic Dependency**: The "Loop" is intrinsic. `Model -> Tool Call -> Tool Output -> Model`. Linear chains cannot naturally represent this indefinite loop (they would need a fixed number of iterations or deep recursion).
*   **ToolNode**: LangGraph provides prebuilt `ToolNode` infrastructure to handle the execution of tool calls generated by the LLM.
*   **Bind Tools**: LLMs (like GPT-4) act as the "router" or "brain," deciding *if* and *which* tool to call.
*   **State Accumulation**: The `messages` list grows with every turn (`AIMessage` with tool calls -> `ToolMessage` with results). LangGraph manages this append-only history automatically.
*   **Dynamic Execution**: The path isn't known ahead of time; the agent might call 0 tools or 10 tools depending on the query.

## 3. Mental Model
*   **Visual**: A circle. `[LLM Node]` --(calls tool?)--> `[Tool Node]` --(result)--> `[LLM Node]`. One exit arrow goes to `END` when the LLM decides it's done.
*   **Analogy**: A researcher with a phone. They think (LLM), make a call (Tool), get info (Tool Output), think again, maybe make another call, or write the final report (Response).

## 4. Code Example (ReAct Pattern)
```python
from langgraph.prebuilt import create_react_agent

# The "When to Use" signal: You need a tool loop
tools = [search_web, query_db]
agent_app = create_react_agent(model, tools)

# This automatically sets up the Model <-> Tool loop
result = agent_app.invoke({"messages": [("user", "What's the weather in NY?")]})
```

## 5. One-Line Recall
Tool-using agents require the `Model -> Tool -> Model` loop, making LangGraph (stateful cycles) the default choice over linear chains.
